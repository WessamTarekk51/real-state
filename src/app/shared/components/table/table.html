<div class="table" *ngIf="items">
  <p-table [columns]="cols" [value]="items" [rows]="pageSize"  [lazy]="false" [(first)]="first"
     stripedRows [tableStyle]="{'min-width': '50rem'}">
    <ng-template pTemplate="header" let-columns>
      <tr>
        @for(col of columns; track $index ){
        <th>
          {{ col.header }}
        </th>
        }

      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        @for(col of columns; track $index ){
        <td>
          @if($index == 0 && !col.status){
          <p class="orange"> {{ rowData[col.field] }}</p>
          }
          @else if (!col.status) {
          <p> {{ rowData[col.field] }}</p>
          }
          @if(col.control){
          <div class="icons">
            <div class="icon view" (click)="viewItem(rowData)"></div>
            <div class="icon edit" (click)="editItem(rowData)"></div>
            <div class="icon delete" (click)="deleteItem(rowData)"></div>
          </div>
          }
          @if(col.status){
          @if(rowData[col.field] == "تحت الإنشاء"){
          <div class="status red">
            <p>{{rowData[col.field]}}</p>
          </div>
          }@else if(rowData[col.field] == 'مكتمل') {
          <div class="status green">
            <p>مكتملة</p>
          </div>
          }@else if(rowData[col.field] ==  "تم التسليم") {
          <div class="status green">
            <p>تم التسليم </p>
          </div>
          }
          @else if(rowData[col.field] ==   "هيكل خرساني") {
          <div class="status red">
            <p>هيكل خرساني </p>
          </div>
          }
          }
        </td>
        }

      </tr>
    </ng-template>
  </p-table>
</div>
<div class="custom-pagination">
  <button (click)="nextPage()" [disabled]="currentPage === totalPages">&#8249;</button>
  <button (click)="prevPage()" [disabled]="currentPage === 1"> &#8250;</button>
  <span>
    {{ currentPage | number: '2.0'  }}/{{ totalPages | number: '2.0'  }}
  </span>

</div>

